# Flutter Application Structure

lib:
  main.dart:  # Application entry point
    description: "Main application entry point and configuration"

  config:
    theme.dart: "Application theme configuration"
    routes.dart: "Application routing configuration"
    api_config.dart: "API endpoints and configuration"

  models:
    user_model.dart: "User data model"
    diagnosis_result.dart: "Big5 diagnosis result model"
    compatibility_result.dart: "Compatibility analysis model"

  screens:
    diagnosis:
      big5_test_screen.dart: "Big5 personality test screen"
      result_screen.dart: "Test results display screen"
      compatibility_screen.dart: "Compatibility analysis screen"
    profile:
      user_profile_screen.dart: "User profile management screen"

  widgets:
    common:
      custom_button.dart: "Reusable button widget"
      custom_card.dart: "Reusable card widget"
    diagnosis:
      question_card.dart: "Question display widget"
      result_chart.dart: "Result visualization widget"

  services:
    api_service.dart: "API communication service"
    auth_service.dart: "Authentication service"
    storage_service.dart: "Local storage service"

  utils:
    constants.dart: "Application constants"
    helpers.dart: "Helper functions"
    validators.dart: "Input validation functions"

frontend:
  description: |
    Big5性格診断アプリケーションのフロントエンド実装
    - Flutter Material Design 3.0
    - レスポンシブデザイン
    - 日本語対応UI
    - Provider状態管理

  screens:
    description: 画面実装
    views:
      auth:
        - login_screen: ログイン画面
        - register_screen: 登録画面
        - profile_screen: プロフィール画面

      diagnosis:
        description: 診断関連画面
        screens:
          - start_screen: 診断開始画面
            features:
              - 診断説明
              - 開始ボタン
              - 前回の結果表示

          - question_screen: 質問画面
            features:
              - 5段階評価スライダー
              - プログレスバー
              - アニメーション遷移

          - result_screen: 結果画面
            features:
              - レーダーチャート
              - 特性詳細説明
              - 洞察レポート
              - 相性診断へのリンク

      compatibility:
        description: 相性診断関連画面
        screens:
          - search_screen: ユーザー検索画面
            features:
              - ユーザー検索
              - プロフィール表示

          - compatibility_screen: 相性結果画面
            features:
              - 総合スコア表示
              - 詳細スコア表示
              - おすすめアクティビティ

          - daily_match_screen: 日替わりマッチング画面
            features:
              - マッチングユーザー表示
              - 相性スコア表示
              - アクション選択

  widgets:
    description: 再利用可能なウィジェット
    components:
      common:
        - custom_app_bar: カスタムアプリバー
        - loading_indicator: ローディング表示
        - error_dialog: エラーダイアログ
        - confirmation_dialog: 確認ダイアログ

      diagnosis:
        - question_card: 質問カード
          features:
            - 質問テキスト表示
            - 5段階評価スライダー
            - 選択肢説明

        - progress_indicator: 進捗表示
          features:
            - 現在の質問番号
            - プログレスバー
            - 残り質問数

        - result_chart: 結果チャート
          features:
            - レーダーチャート
            - スコア表示
            - 特性説明

      compatibility:
        - user_card: ユーザーカード
          features:
            - プロフィール画像
            - 基本情報表示
            - アクションボタン

        - compatibility_card: 相性カード
          features:
            - 総合スコア
            - 詳細スコア
            - おすすめ表示

  models:
    description: データモデル定義
    entities:
      user:
        fields:
          - id: ユーザーID
          - name: 名前
          - email: メールアドレス
          - birthDate: 生年月日
          - gender: 性別
          - profileImage: プロフィール画像
          - personalityScore: Big5スコア
          - lastDiagnosisDate: 最終診断日

      diagnosis:
        fields:
          - id: 診断ID
          - userId: ユーザーID
          - questions: 質問リスト
          - answers: 回答リスト
          - result: 診断結果
          - completedAt: 完了日時

      compatibility:
        fields:
          - id: 相性診断ID
          - user1Id: ユーザー1ID
          - user2Id: ユーザー2ID
          - totalScore: 総合スコア
          - detailScores: 詳細スコア
          - recommendations: おすすめ
          - calculatedAt: 計算日時

  providers:
    description: 状態管理
    stores:
      auth_provider:
        - currentUser: 現在のユーザー
        - authStatus: 認証状態
        - loginState: ログイン状態管理
        - profileUpdate: プロフィール更新

      diagnosis_provider:
        - currentSession: 現在のセッション
        - questionState: 質問状態
        - answerState: 回答状態管理
        - resultState: 結果状態

      compatibility_provider:
        - compatibilityState: 相性状態
        - dailyMatchState: 日替わりマッチング
        - historyState: 履歴管理

  services:
    description: APIサービス
    api_service:
      endpoints:
        auth:
          - login: ログインAPI
          - register: 登録API
          - profile: プロフィールAPI

        diagnosis:
          - startDiagnosis: 診断開始
          - getQuestion: 質問取得
          - submitAnswer: 回答送信
          - getResult: 結果取得

        compatibility:
          - calculate: 相性計算
          - getDaily: 日替わり取得
          - getHistory: 履歴取得

  theme:
    description: テーマ設定
    colors:
      light:
        - primary: '#6750A4'
        - secondary: '#625B71'
        - background: '#FFFBFE'
        - surface: '#FFFFFF'
        - error: '#B3261E'

      dark:
        - primary: '#D0BCFF'
        - secondary: '#CCC2DC'
        - background: '#1C1B1F'
        - surface: '#1C1B1F'
        - error: '#F2B8B5'

    typography:
      font_family: 'Noto Sans JP'
      styles:
        - headline_large: 32px
        - headline_medium: 28px
        - body_large: 16px
        - body_medium: 14px

  assets:
    description: アセット管理
    resources:
      images:
        - logo: アプリロゴ
        - background: 背景画像
        - illustrations: イラスト素材

      icons:
        - navigation: ナビゲーション
        - action: アクション
        - status: ステータス

  localization:
    description: 多言語対応
    languages:
      - ja: 日本語
      - en: 英語（将来対応）

  security:
    description: セキュリティ対策
    measures:
      - secure_storage: セキュアストレージ
      - token_management: トークン管理
      - input_validation: 入力検証

  error_handling:
    description: エラー処理
    types:
      - network_error: ネットワークエラー
      - validation_error: バリデーションエラー
      - auth_error: 認証エラー
      - api_error: APIエラー